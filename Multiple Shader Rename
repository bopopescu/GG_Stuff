from maya import cmds, mel
### load vray
cmds.loadPlugin('vrayformaya', quiet=True)
### autoload vray
cmds.pluginInfo('vrayformaya', edit=True, autoload=True)
### change render drop down
cmds.setAttr('defaultRenderGlobals.ren', 'vray', type='string')

### change to vray shader
### C:\Users\user_name\Documents\maya\scripts\maya2VRay.mel
shader = cmds.ls(type = ['blinn','phong'], l = True)
cmds.select(shader)
mel.eval('maya2VRay()')

### select vray shader, change shader attr, strip front and back letter, change first letter to uppercase.
selected_obj_x1 = cmds.ls(type = ['VRayMtl'], l = True)

for x in(selected_obj_x1):
    cmds.setAttr(x+'.reflectionGlossiness', 1)
    cmds.setAttr(x+'.bumpMult', 1)
    cmds.setAttr(x+'.diffuseColorAmount', 1)
    
    
for x in(selected_obj_x1):
	[y.strip('KAZ_P_'+'VRAY') for y in selected_obj_x1]
	cmds.rename(x, y.strip('KAZ_P_'+'VRAY'))

for x in(selected_obj_x1):
	cmds.rename(x, x.capitalize())
	
### add passes 
mel.eval('vrayAddRenderElement rawGiChannel;')
mel.eval('vrayAddRenderElement rawLightChannel;')
mel.eval('vrayAddRenderElement rawReflectionChannel;')
mel.eval('vrayAddRenderElement sampleRateChannel;')
